# /etc/systemd/system/etcd2.service.d/40-tls.conf
#
# Temporary drop-in to get etcd2 working without SSL certs on initial
# node
#
# systemctl daemon-reload
# 
[Service]
# No SSL
Environment="ETCD_ADVERTISE_CLIENT_URLS=http://{{hostname}}:2379"
Environment="ETCD_LISTEN_CLIENT_URLS=http://{{hostname}}:2379,http://127.0.0.1:2379"
Environment="ETCD_LISTEN_PEER_URLS=http://{{hostname}}:2380,http://127.0.0.1:2380"
Environment="ETCD_INITIAL_ADVERTISE_PEER_URLS=http://127.0.0.1:2380,http://{{hostname}}:2380"
Environment="ETCD_INITIAL_CLUSTER={{hostname}}=http://127.0.0.1:2380,{{hostname}}=http://{{hostname}}:2380"
# No certs
Environment="ETCD_CERT_FILE="
Environment="ETCD_KEY_FILE="
Environment="ETCD_PEER_CERT_FILE="
Environment="ETCD_PEER_KEY_FILE="
Environment="ETCD_PEER_TRUSTED_CA_FILE="
Environment="ETCD_TRUSTED_CA_FILE="
